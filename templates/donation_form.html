
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    
   <title> Donate </title>
    <link rel="stylesheet" type="text/css" href="{% static 'css/showpets.css' %}">
</head>
<body>

    <header>
        <div class="banner h-6">Let us begin with your pet adoption journey</div>
    
        <nav class="shadow-xl flex justify-between px-10">
          <div id="logo">
            <svg width="40" height="32" viewBox="0 0 40 32" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M12.8 32H0V21.9849C0 17.1239 4.0116 13.1839 8.96 13.1839H15.2V0.468341C15.2 0.251458 15.3792 0.0754376 15.6 0.0754376C15.7184 0.0754376 15.8308 0.127301 15.9068 0.216883L17.3616 1.92719C18.402 1.07577 19.74 0.563816 21.2 0.563816H22C23.442 0.563816 24.7656 1.06359 25.8 1.89654L27.2932 0.14066C27.3692 0.0514706 27.4812 0 27.6 0C27.8208 0 28 0.175628 28 0.392904V15.3896H23.36C17.528 15.3896 12.8 20.0337 12.8 25.7623V32Z"
                fill="#45413E" />
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M29.76 17.0569V12.0875C29.76 12.0836 29.76 12.0797 29.76 12.0758V6.79004C29.76 6.57435 29.9392 6.4 30.16 6.4C30.266 6.4 30.3676 6.44095 30.4424 6.51389L31.9576 7.98784C32.7864 7.42501 33.7936 7.09504 34.88 7.09504C35.97 7.09504 36.9808 7.42735 37.8112 7.99369L39.3176 6.52793C39.3924 6.45499 39.494 6.41404 39.6 6.41404C39.8208 6.41404 40 6.58878 40 6.80408V23.2632C40 28.0883 35.9884 32 31.04 32H14.4V25.7938C14.4 20.969 18.4116 17.0569 23.36 17.0569H29.76Z"
                fill="#45413E" />
            </svg>
            Furry <br />paws
          </div>
    
            <ul class="flex justify-between w-3/5">
                <div class="flex flex-row space-x-8">
                    <li>
                        <a href="/aboutus/">About Us</a>
                    </li>
    
                    <li>
                        <a href="/contact_view/">Contact Us</a>
                    </li>
                </div>
    
                {% if user.is_authenticated %}
                    <!-- User is logged in, show logout button -->
                    <div class="flex flex-row space-x-8 mr-36">
                        <li>
                            <a href="/logout_view/">Logout</a>
                        </li>
                    </div>
                {% else %}
                    <!-- User is not logged in, show login and signup buttons -->
                    <div class="flex flex-row space-x-8 mr-36">
                        <li>
                            <a href="/login_view/">Login</a>
                        </li>
    
                        <li>
                            <a href="/signup/">Sign-Up</a>
                        </li>
                    </div>
                {% endif %}
            </ul>
        </nav>
    </header>
    <!-- ------------------------------------------------------------------------------------------------------------------------------------------------------------- -->
    <div class="h-screen md:flex">


        <div class="relative overflow-hidden md:flex w-1/2 bg-gradient-to-tr from-[#f6edeb] to-[#f6edeb] i justify-around  hidden ">
            <div>
                <h1 class="text-[#db7f67] font-bold text-4xl font-sans mt-12 -ml-4">DONATE HERE</h1>
                <img src="https://pbs.twimg.com/media/FKbqverUUAYTzow.jpg"  class="w-80
                 h-auto mb-10 rounded-lg">
                <p class="text-[#db7f67] font-bold"></p>
              </head>
              <script src="https://khalti.s3.ap-south-1.amazonaws.com/KPG/dist/2020.12.17.0.0.0/khalti-checkout.iffe.js"></script>
          </head>
          <body>
              <script>
          
              function verifyPayment(payload) {
                  $.ajax({
                      url: "{% url 'verify_payment' %}",
                      type: "POST",
                      data: payload,
                      dataType: 'json',
                      success: function (response) { alert(response) },
                      error: function (error) { alert(error.responseJSON['message']) }
                  });
              }
          
          
                  
                  var config = {
                      // replace the publicKey with yours
                      "publicKey": "test_public_key_a114a31b9677404eaa85b6ffb5246097",
                      "productIdentity": "1234567890",
                      "productName": "Dragon",
                      "productUrl": "http://gameofthrones.wikia.com/wiki/Dragons",
                      "paymentPreference": [
                          "KHALTI",
                          "EBANKING",
                          "MOBILE_BANKING",
                          "CONNECT_IPS",
                          "SCT",
                          ],
                      "eventHandler": {
                          onSuccess (payload) {
                              // hit merchant api for initiating verfication
                              console.log(payload);
                          },
                          onError (error) {
                              console.log(error);
                          },
                          onClose () {
                              console.log('widget is closing');
                          }
                      }
                  };
          
                  var checkout = new KhaltiCheckout(config);
                  var btn = document.getElementById("payment-button");
                  btn.onclick = function () {
                      // minimum transaction amount must be 10, i.e 1000 in paisa.
                      checkout.show({amount :10000});
                  }
              </script>
          
          
                 
    <!-- Place this where you need payment button -->
    <style>
      /* Styles for Pay with Khalti button */
      #payment-button {
          display: inline-block;
          padding: 10px 20px;
          font-size: 16px;
          font-weight: bold;
          text-align: center;
          text-decoration: none;
          cursor: pointer;
          border: 2px solid #28a745; /* Green border color */
          color: #28a745; /* Green text color */
          border-radius: 5px; /* Rounded corners */
          background-color: #ffffff; /* White background color */
          transition: background-color 0.3s, color 0.3s; /* Smooth transition on hover */
      }

      #payment-button:hover {
          background-color: #28a745; /* Green background color on hover */
          color: #ffffff; /* White text color on hover */
      }
  </style>
  <div class="col-sm-12 col-md-6 text-right">
      <button id="payment-button" class="btn btn-outline-success">Pay with Khalti</button>
      
  </div>


 
            </div>
   
        </div>
        <div class="flex md:w-1/2 justify-center py-10  bg-white -mt-5">

            <form class="bg-white" enctype="multipart/form-data"  method="post" action="{% url 'save_donateInfo' %}" id="contact" role="form">
                {% csrf_token %}
                <h1 class="text-gray-800 font-bold text-3xl mb-1">I'VE DONATED</h1>
                <p class="text-md font-normal text-gray-600 mb-7">Fill the form once your done with the donation transaction </p>
                <!-- FULL NAME ----------------------------------------- -->
                <div class="flex items-center border-2 py-2 px-3 rounded-2xl mb-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" viewBox="0 0 20 20"
                        fill="currentColor">
                        <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"
                            clip-rule="evenodd" />
                    </svg>
                    <input class="pl-2 outline-none border-none" type="text" name="full_name" id="full_name" placeholder="Full name" />
          </div>
          <!-- EMAIL ------------------------------------------- -->
                    
                        <div class="flex items-center border-2 py-2 px-3 rounded-2xl mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207" />
                            </svg>
                            <input class="pl-2 outline-none border-none" type="text" name="email" id="email" placeholder="Email Address" />
          </div>
                          
          <!-- PHONE NUMBR  -->

          <div class="flex items-center border-2 py-2 px-3 rounded-2xl mb-4">
            
            <input class="pl-2 outline-none border-none" type="text" name="ph_number" id="ph_number" placeholder="PHONE NUMBER" />
        </div>
        
        <!-- for donated amount  -->
        <div class="flex items-center border-2 py-2 px-3 rounded-2xl mb-4">
            
          <input class="pl-2 outline-none border-none" type="text" name="amount" id="amount" placeholder="Donated Amount" />
        </div>

        <!-- for message  -->
        <div class="flex items-center border-2 py-2 px-3 rounded-2xl mb-4">
          <textarea class="pl-2 outline-none border-none w-48 resize-none" name="message" id="message" placeholder="Message"></textarea>
      </div>

      <!-- for uploading file / image-->
    
      <div class="w-[400px] relative border-2 border-gray-300 border-dashed rounded-lg p-6" id="dropzone">
        <input type="file" class="absolute inset-0 w-full h-full opacity-0 z-50" />
        <div class="text-center">
            <img class="mx-auto h-12 w-12" src="https://www.svgrepo.com/show/357902/image-upload.svg" alt="">
    
            <h3 class="mt-2 text-sm font-medium text-gray-900">
                <label for="file-upload" class="relative cursor-pointer">
                    <span>Drag and drop</span>
                    <span class="text-indigo-600"> or browse</span>
                    <span>to upload</span>
                    <input id="file-upload" name="file-upload" type="file" class="sr-only">
                </label>
            </h3>
            <p class="mt-1 text-xs text-gray-500">
                PNG, JPG, GIF up to 10MB
            </p>
        </div>
    
        <img src="" class="mt-4 mx-auto max-h-40 hidden" id="preview">
    </div>
    
    <script>
        var dropzone = document.getElementById('dropzone');
    
        dropzone.addEventListener('dragover', e => {
            e.preventDefault();
            dropzone.classList.add('border-indigo-600');
        });
    
        dropzone.addEventListener('dragleave', e => {
            e.preventDefault();
            dropzone.classList.remove('border-indigo-600');
        });
    
        dropzone.addEventListener('drop', e => {
            e.preventDefault();
            dropzone.classList.remove('border-indigo-600');
            var file = e.dataTransfer.files[0];
            displayPreview(file);
        });
    
        var input = document.getElementById('file-upload');
    
        input.addEventListener('change', e => {
            var file = e.target.files[0];
            displayPreview(file);
        });
    
        function displayPreview(file) {
            var reader = new FileReader();
            reader.readAsDataURL(file);
            reader.onload = () => {
                var preview = document.getElementById('preview');
                preview.src = reader.result;
                preview.classList.remove('hidden');
            };
        }
    </script>
         <button type="submit" class="block w-full bg-[#db7f67] mt-4 py-2 rounded-2xl text-white font-semibold mb-2">REGISTER MY DONATION </button>
               
      

      

       
      
         

     
        <!-- <label class="w-96 ml-4 mt-4 rounded-lg flex flex-col items-center px-4 py-6 bg-white text-blue rounded-lg shadow-lg tracking-wide uppercase border border-blue cursor-pointer hover:bg-blue hover:text-gray-400">
            <svg class="w-8 h-8" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                <path d="M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z" />
            </svg>
            <span class="mt-2 text-base leading-normal">Select a file</span>
            <input type='file' class="hidden" />
        </label>   
      
             <button type="submit" class="block w-full bg-[#db7f67] mt-4 py-2 rounded-2xl text-white font-semibold mb-2">REGISTER MY DONATION </button>
                                
            </form>
        </div>
    </div> -->
</body>
</html>
</head>
    <script src="https://khalti.s3.ap-south-1.amazonaws.com/KPG/dist/2020.12.17.0.0.0/khalti-checkout.iffe.js"></script>
</head>
<body>
    <script>

    function verifyPayment(payload) {
        $.ajax({
            url: "{% url 'verify_payment' %}",
            type: "POST",
            data: payload,
            dataType: 'json',
            success: function (response) { alert(response) },
            error: function (error) { alert(error.responseJSON['message']) }
        });
    }


        
        var config = {
            // replace the publicKey with yours
            "publicKey": "test_public_key_a114a31b9677404eaa85b6ffb5246097",
            "productIdentity": "1234567890",
            "productName": "Dragon",
            "productUrl": "http://gameofthrones.wikia.com/wiki/Dragons",
            "paymentPreference": [
                "KHALTI",
                "EBANKING",
                "MOBILE_BANKING",
                "CONNECT_IPS",
                "SCT",
                ],
            "eventHandler": {
                onSuccess (payload) {
                    // hit merchant api for initiating verfication
                    console.log(payload);
                },
                onError (error) {
                    console.log(error);
                },
                onClose () {
                    console.log('widget is closing');
                }
            }
        };

        var checkout = new KhaltiCheckout(config);
        var btn = document.getElementById("payment-button");
        btn.onclick = function () {
            // minimum transaction amount must be 10, i.e 1000 in paisa.
            checkout.show({amount :10000});
        }
    </script>

